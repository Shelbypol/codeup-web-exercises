<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>

        <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />

        <style>
            #map{
                width: 400px;
                height: 300px;
            }
        </style>
    </head>
        <body>
        <div id='map' ></div>

        <script src="js/keys.js"></script>
        <script src="js/mapbox-geocode-utilities.js"></script>
        <script>
            'use strict';


            mapboxgl.accessToken = mapboxKey;
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/satellite-streets-v11',
                zoom: 1.2
            });
            geocode('San Antonio, TX 78209', mapboxKey).then(function (result) {
                // console.log(result);
                map.setCenter(result);
                map.setZoom(10);
            });

// //==============RESTAURANT ONE
//             var marker = new mapboxgl.Marker();
//             marker
//                 .setLngLat([-98.499743, 29.424894])
//                 .addTo(map)
//                 .setDraggable(true);
//
//             var popup = new mapboxgl.Popup();
//             popup.setHTML('<h4>ToyMakers Cafe</h4>');
//             marker.setPopup(popup);
//
// //==============RESTAURANT TWO
//             var marker = new mapboxgl.Marker();
//             marker
//                 .setLngLat([-98.487027, 29.411178])
//                 .addTo(map)
//                 .setDraggable(true);
//
//             var popup = new mapboxgl.Popup();
//             popup.setHTML('<h4>Restaurant Two</h4>');
//             marker.setPopup(popup);
//
// // ==============RESTAURANT THREE
//             var marker = new mapboxgl.Marker();
//             marker
//                 .setLngLat([-98.46331, 29.472596])
//                 .addTo(map)
//                 .setDraggable(true);
//
//             var popup = new mapboxgl.Popup();
//             popup.setHTML('<h4>Restaurant Two</h4>');
//             marker.setPopup(popup);

//==========Restaurant Array
        var favRestaurants = [
            {
                name: 'Restaurant One',
                address: [-98.499743, 29.424894], //'218 Produce Row, San Antonio, TX 78207',
                message: 'He was number one'
            },
            {
                name: 'Restaurant Two',
                address: [-98.487027, 29.411178], //'926 S Presa St, San Antonio, TX 78210',
                message: 'The 2nd best'
            },
            {
                name:'Restaurant Three',
                address: [-98.46331, 29.472596], //'5011 Broadway St, San Antonio, TX 78209',
                message: 'Third time is a charm'
            }];

            favRestaurants.forEach(function (restaurant) {
                var marker = new mapboxgl.Marker();
                marker
                    .setLngLat(restaurant.address)
                    .addTo(map);
                    // .setDraggable(true);

                var popup = new mapboxgl.Popup();
                popup.setHTML(restaurant.name + '\n ' + restaurant.message);
                marker.setPopup(popup);
            });




        </script>


        </body>
</html>